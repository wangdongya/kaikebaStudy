# 开课吧JavaEE架构师第一期学习记录

## 第一课
- 第一课总览的mybatis的源码，详情参见MainTest1的注释

## 第二课
- 自定义类型转换器：typeHandler
- 自定义对象工厂：DefaultObjectFactory
- 拦截器：org.apache.ibatis.plugin.Interceptor，其中plugin()方法中我们可以决定是否要进行拦截进而决定要返回一个什么样的目标对象；intercept()方法就是要进行拦截的时候要执行的方法。
- org.apache.ibatis.plugin.Plugin
- mybatis自定义拦截器，可以拦截接口只有四种：Executor.class，StatementHandler.class，ParameterHandler.class，ResultSetHandler.class

## 第三课
- 代理模式
> 代理模式的作用：将主要业务与次要业务进行松耦合组装
本质：监控行为特征
JDK代理模式实现：
    1.接口角色：定义所有需要被监听的行为
    2.接口实现类
    3.通知类：1).次要业务进行具体实现；2).通知JVM，当前被拦截的主要业务方法与次要业务方法应该如何绑定执行
    4.监控对象（代理对象）：1)。被监控的实例对象；2）.需要被监控的监控行为；3）.具体通知类实例对象

- 设计表的时候尽量不要放null值，尽量放一个默认的解释型的数据

- AOP模式：为了方便的实现代理模式
> 代理模式的实现步骤：1.声明接口：注册需要被监听的行为名称；2.接口实现类：扮演被监控的类，负责被监听方法的实现细节；3.InvocationHandler接口实现类：包含次要业务，以及次要业务
和主要业务的执行顺序，将次要业务与被监听方法绑定执行；4.代理监控对象：创建代理对象需要的参数是备件空格类的内存地址，被监控类实现的接口，InvocationHandler实现类的实例对象
Spring AOP:简化代理模式的实现步骤：1.声明接口：注册需要被监听的行为名称；2.接口实现类：扮演被监控的类，负责被监听方法实现细节；3.次要业务/主要业务
>> 切面：实际上指次要业务；目标对象：即当前需要监听的实例对象；织入：指的是手动实现代理模式的invoke中的行为，是将主要业务也次要业务绑定在一起的行为；连接点：指的是声明行为的接口中的需要
被监听的方法；织入点：接口实现类中真正被切面织入的方法；
spring AOP次要业务和主要业务绑定有两种方案：
通知（Advice）：可以完成简单的织入，是将接口中所有的方法与次要业务进行绑定，不灵活，一次性对所有的方法都进行拦截并执行切面逻辑；
    Spring AOP 通知种类：设置次要业务和主要业与被监听方法绑定执行顺序问题：前置通知，后置通知，环绕通知，异常通知
顾问（Advisor）：能够将通知以更复杂的方式织入目标对象中。
    1.是一种织入方式；2.实际上是对advise的一种封装；3.可以动态的将切面指定对应切入点
    类继承关系：参见图 Advisor PointCutAdvisor(可以灵活的指定当前接口下的哪一个实现类中的哪一个方法与次要业务进行绑定) Advice(次要业务) Pointcut(目标对象和目标对象方法) ClassFilter(判断当前被拦截对象是不是当前顾问需要管理的对象) 
    MethodMatcher(当前被拦截方法是不是我们所需要拦截的主要业务方法)




2019年6月18日 22:21:31 第三课50分钟 JDK动态代理
2019年6月19日 07:30:35 第三课1小时04分钟 JDK动态代理模式
2019年6月20日 07:28:28 第三课1小时26分钟 mybatis动态代理的实现
2019年6月21日 22:52:43 第三课结束，mybatis进入尾声
2019年6月22日 22:30:41 第四课08分钟左右
2019年7月6日 22:42:39 第五课第一部分44分钟
2019年7月8日 21:45:02 第五课第一部分结束
2019年7月9日 21:34:20 第五课23分钟左右
2019年7月10日 22:16:27 第五课一小时18分所有
2019年7月11日 22:45:38 第五课结束
2019年7月14日 15:42:27 第六课结束
